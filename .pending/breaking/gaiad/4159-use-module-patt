#4159 use module pattern and module manager for initialization