"use strict";(self.webpackChunkcosmos_hub_docs_site=self.webpackChunkcosmos_hub_docs_site||[]).push([[6840],{7628:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"resources/service-providers","title":"Service Providers","description":"\'Service Providers\' are defined as entities that provide services for end-users that involve some form of interaction with the Cosmos Hub. More specifically, this document is focused on interactions with tokens.","source":"@site/docs/resources/service-providers.md","sourceDirName":"resources","slug":"/resources/service-providers","permalink":"/main/resources/service-providers","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Service Providers","order":4},"sidebar":"tutorialSidebar","previous":{"title":"Building Gaia Deterministically","permalink":"/main/resources/reproducible-builds"},"next":{"title":"Architecture Decision Records (ADR)","permalink":"/main/architecture/"}}');var i=a(2467),o=a(8453);const r={title:"Service Providers",order:4},t=void 0,c={},l=[{value:"Connection Options",id:"connection-options",level:2},{value:"Running a Full Node",id:"running-a-full-node",level:2},{value:"What is a Full Node?",id:"what-is-a-full-node",level:3},{value:"Installation and Configuration",id:"installation-and-configuration",level:3},{value:"Command-Line Interface",id:"command-line-interface",level:2},{value:"Available Commands",id:"available-commands",level:3},{value:"Remote Access to gaiad",id:"remote-access-to-gaiad",level:3},{value:"Create a Key Pair",id:"create-a-key-pair",level:3},{value:"Check your Account",id:"check-your-account",level:4},{value:"Check your Balance",id:"check-your-balance",level:3},{value:"Send Coins Using the CLI",id:"send-coins-using-the-cli",level:4},{value:"REST API",id:"rest-api",level:2},{value:"Listen for Incoming Transactions",id:"listen-for-incoming-transactions",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"'Service Providers' are defined as entities that provide services for end-users that involve some form of interaction with the Cosmos Hub. More specifically, this document is focused on interactions with tokens."}),"\n",(0,i.jsx)(n.p,{children:"Service Providers are expected to act as trusted points of contact to the blockchain for their end-users. This Service Providers section does not apply to wallet builders that want to provide Light Client functionalities."}),"\n",(0,i.jsx)(n.p,{children:"This document describes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#connection-options",children:"Connection Options"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#running-a-full-node",children:"Running a Full Node"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#what-is-a-full-node",children:"What is a Full Node?"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#installation-and-configuration",children:"Installation and Configuration"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#command-line-interface",children:"Command-Line Interface"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#available-commands",children:"Available Commands"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#remote-access-to-gaiad",children:"Remote Access to gaiad"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#create-a-key-pair",children:"Create a Key Pair"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#check-your-account",children:"Check your Account"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#check-your-balance",children:"Check your Balance"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#send-coins-using-the-cli",children:"Send Coins Using the CLI"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#rest-api",children:"REST API"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#listen-for-incoming-transactions",children:"Listen for Incoming Transactions"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"connection-options",children:"Connection Options"}),"\n",(0,i.jsx)(n.p,{children:"There are four main technologies to consider to connect to the Cosmos Hub:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Full Nodes: Interact with the blockchain."}),"\n",(0,i.jsx)(n.li,{children:"REST Server: Serves for HTTP calls."}),"\n",(0,i.jsx)(n.li,{children:"REST API: Use available endpoints for the REST Server."}),"\n",(0,i.jsx)(n.li,{children:"GRPC: Connect to the Cosmos Hub using gRPC."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"running-a-full-node",children:"Running a Full Node"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-a-full-node",children:"What is a Full Node?"}),"\n",(0,i.jsx)(n.p,{children:"A Full Node is a network node that syncs up with the state of the blockchain. It provides blockchain data to others by using RESTful APIs, a replica of the database by exposing data with interfaces. A Full Node keeps in syncs with the rest of the blockchain nodes and stores the state on disk. If the full node does not have the queried block on disk the full node can go find the blockchain where the queried data lives."}),"\n",(0,i.jsx)(n.h3,{id:"installation-and-configuration",children:"Installation and Configuration"}),"\n",(0,i.jsx)(n.p,{children:"This section describes the steps to run and interact with a full node for the Cosmos Hub."}),"\n",(0,i.jsxs)(n.p,{children:["First, you need to ",(0,i.jsx)(n.a,{href:"../getting-started/installation",children:"install the software"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Consider running your own ",(0,i.jsx)(n.a,{href:"../hub-tutorials/join-mainnet",children:"Cosmos Hub Full Node"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"command-line-interface",children:"Command-Line Interface"}),"\n",(0,i.jsxs)(n.p,{children:["The command-line interface (CLI) is the most powerful tool to access the Cosmos Hub and use gaia.\nTo use the CLI, you must install the latest version of ",(0,i.jsx)(n.code,{children:"gaia"})," on your machine."]}),"\n",(0,i.jsxs)(n.p,{children:["Compare your version with the ",(0,i.jsx)(n.a,{href:"https://github.com/cosmos/gaia/releases",children:"latest release version"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad version --long\n"})}),"\n",(0,i.jsx)(n.h3,{id:"available-commands",children:"Available Commands"}),"\n",(0,i.jsxs)(n.p,{children:["All available CLI commands are shown when you run the ",(0,i.jsx)(n.code,{children:"gaiad"})," command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'Stargate Cosmos Hub App\n\nUsage:\n  gaiad [command]\n\nAvailable Commands:\n\n\n  add-genesis-account Add a genesis account to genesis.json\n  collect-gentxs      Collect genesis txs and output a genesis.json file\n  debug               Tool for helping with debugging your application\n  export              Export state to JSON\n  gentx               Generate a genesis tx carrying a self delegation\n  help                Help about any command\n  init                Initialize private validator, p2p, genesis, and application configuration files\n  keys                Manage your application\'s keys\n  migrate             Migrate genesis to a specified target version\n  query               Querying subcommands\n  start               Run the full node\n  status              Query remote node for status\n  tendermint          Tendermint subcommands\n  testnet             Initialize files for a gaia testnet\n  tx                  Transactions subcommands\n  unsafe-reset-all    Resets the blockchain database, removes address book files, and resets data/priv_validator_state.json to the genesis state\n  validate-genesis    validates the genesis file at the default location or at the location passed as an arg\n  version             Print the application binary version information\n\nFlags:\n  -h, --help                help for gaiad\n      --home string         directory for config and data (default "/Users/tobias/.gaia")\n      --log_format string   The logging format (json|plain) (default "plain")\n      --log_level string    The logging level (trace|debug|info|warn|error|fatal|panic) (default "info")\n      --trace               print out full stack trace on errors\n\nUse "gaiad [command] --help" for more information about a command.\n'})}),"\n",(0,i.jsxs)(n.p,{children:["For each displayed command, you can use the ",(0,i.jsx)(n.code,{children:"--help"})," flag to get further information."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'gaiad query --help\nUsage:\n  gaiad query [flags]\n  gaiad query [command]\n\nAliases:\n  query, q\n\nAvailable Commands:\n  account                  Query for account by address\n  auth                     Querying commands for the auth module\n  bank                     Querying commands for the bank module\n  block                    Get verified data for a the block at given height\n  distribution             Querying commands for the distribution module\n  evidence                 Query for evidence by hash or for all (paginated) submitted evidence\n  gov                      Querying commands for the governance module\n  ibc                      Querying commands for the IBC module\n  ibc-transfer             IBC fungible token transfer query subcommands\n  mint                     Querying commands for the minting module\n  params                   Querying commands for the params module\n  slashing                 Querying commands for the slashing module\n  staking                  Querying commands for the staking module\n  tendermint-validator-set Get the full tendermint validator set at given height\n  tx                       Query for a transaction by hash in a committed block\n  txs                      Query for paginated transactions that match a set of events\n  upgrade                  Querying commands for the upgrade module\n\nFlags:\n      --chain-id string   The network chain ID\n  -h, --help              help for query\n\nGlobal Flags:\n      --home string         directory for config and data (default "/Users/tobias/.gaia")\n      --log_format string   The logging format (json|plain) (default "plain")\n      --log_level string    The logging level (trace|debug|info|warn|error|fatal|panic) (default "info")\n      --trace               print out full stack trace on errors\n\nUse "gaiad query [command] --help" for more information about a command.\n'})}),"\n",(0,i.jsx)(n.h3,{id:"remote-access-to-gaiad",children:"Remote Access to gaiad"}),"\n",(0,i.jsx)(n.p,{children:"When choosing to remote access a Full Node and gaiad, you need a Full Node running and gaia installed on your local machine."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"gaiad"})," is the tool that enables you to interact with the node that runs on the Cosmos Hub network, whether you run it yourself or not."]}),"\n",(0,i.jsxs)(n.p,{children:["To set up ",(0,i.jsx)(n.code,{children:"gaiad"})," on a local machine and connect to an existing full node, use the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad config <flag> <value>\n"})}),"\n",(0,i.jsx)(n.p,{children:"First, set up the address of the full node you want to connect to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad config node <host>:<port\n\n// example: gaiad config node https://77.87.106.33:26657 (note: this is a placeholder)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you run your own full node locally, use ",(0,i.jsx)(n.code,{children:"tcp://localhost:26657"})," as the address."]}),"\n",(0,i.jsxs)(n.p,{children:["Finally, set the ",(0,i.jsx)(n.code,{children:"chain-id"})," of the blockchain you want to interact with:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad config chain-id cosmoshub-4\n"})}),"\n",(0,i.jsx)(n.p,{children:"Next, learn to use CLI commands to interact with the full node.\nYou can run these commands as remote control or when you are running it on your local machine."}),"\n",(0,i.jsx)(n.h3,{id:"create-a-key-pair",children:"Create a Key Pair"}),"\n",(0,i.jsxs)(n.p,{children:["The default key is ",(0,i.jsx)(n.code,{children:"secp256k1 elliptic curve"}),". Use the ",(0,i.jsx)(n.code,{children:"gaiad keys"})," command to list the keys and generate a new key."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad keys add <your_key_name>\n"})}),"\n",(0,i.jsx)(n.p,{children:"You will be asked to create a password (at least 8 characters) for this key-pair. This will return the information listed below:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NAME"}),": Name of your key"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TYPE"}),": Type of your key, always ",(0,i.jsx)(n.code,{children:"local"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ADDRESS"}),": Your address. Used to receive funds."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PUBKEY"}),": Your public key. Useful for validators."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MNEMONIC"}),": 24-word phrase. ",(0,i.jsx)(n.strong,{children:"Save this mnemonic somewhere safe"}),". This phrase is required to recover your private key in case you forget the password. The mnemonic is displayed at the end of the output."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"You can see all available keys by typing:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad keys list\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"--recover"})," flag to add a key that imports a mnemonic to your keyring."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad keys add <your_key_name> --recover\n"})}),"\n",(0,i.jsx)(n.h4,{id:"check-your-account",children:"Check your Account"}),"\n",(0,i.jsxs)(n.p,{children:["You can view your account by using the ",(0,i.jsx)(n.code,{children:"query account"})," command."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad query account <YOUR_ADDRESS>\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will display your account type, account number, public key and current account sequence."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"'@type': /cosmos.auth.v1beta1.BaseAccount\naccount_number: \"xxxx\"\naddress: cosmosxxxx\npub_key:\n  '@type': /cosmos.crypto.secp256k1.PubKey\n  key: xxx\nsequence: \"x\"\n"})}),"\n",(0,i.jsx)(n.h3,{id:"check-your-balance",children:"Check your Balance"}),"\n",(0,i.jsx)(n.p,{children:"Query the account balance with the command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad query bank balances <YOUR_ADDRESS>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The response contains keys ",(0,i.jsx)(n.code,{children:"balances"})," and ",(0,i.jsx)(n.code,{children:"pagination"}),".\nEach ",(0,i.jsx)(n.code,{children:"balances"})," entry contains an ",(0,i.jsx)(n.code,{children:"amount"})," held, connected to a ",(0,i.jsx)(n.code,{children:"denom"})," identifier.\nThe typical $ATOM token is identified by the denom ",(0,i.jsx)(n.code,{children:"uatom"}),". Where 1 ",(0,i.jsx)(n.code,{children:"uatom"})," is 0.000001 ATOM."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'balances:\n- amount: "12345678"\n  denom: uatom\npagination:\n  next_key: null\n  total: "0"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["When you query an account that has not received any token yet, the ",(0,i.jsx)(n.code,{children:"balances"})," entry is shown as an empty array."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'balances: []\npagination:\n  next_key: null\n  total: "0"\n'})}),"\n",(0,i.jsx)(n.h4,{id:"send-coins-using-the-cli",children:"Send Coins Using the CLI"}),"\n",(0,i.jsx)(n.p,{children:"To send coins using the CLI:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gaiad tx bank send [from_key_or_address] [to_address] [amount] [flags]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Parameters:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<from_key_or_address>"}),": Key name or address of sending account."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<to_address>"}),": Address of the recipient."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<amount>"}),": This parameter accepts the format ",(0,i.jsx)(n.code,{children:"<value|coinName>"}),", such as ",(0,i.jsx)(n.code,{children:"1000000uatom"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Flags:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--chain-id"}),": This flag allows you to specify the id of the chain. There are different ids for different testnet chains and mainnet chains."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--gas-prices"}),": This flag allows you to specify the gas prices you pay for the transaction. The format is used as ",(0,i.jsx)(n.code,{children:"0.0025uatom"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"rest-api",children:"REST API"}),"\n",(0,i.jsxs)(n.p,{children:["The REST API documents list all the available endpoints that you can use to interact\nwith your full node. Learn ",(0,i.jsx)(n.a,{href:"/main/hub-tutorials/join-mainnet#rest-api",children:"how to enable the REST API"})," on your full node."]}),"\n",(0,i.jsx)(n.h3,{id:"listen-for-incoming-transactions",children:"Listen for Incoming Transactions"}),"\n",(0,i.jsx)(n.p,{children:"The recommended way to listen for incoming transactions is to periodically query the blockchain by using the following HTTP endpoint:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"/cosmos/bank/v1beta1/balances/{address}"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>t});var s=a(6540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);